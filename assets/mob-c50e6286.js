import{S as o,A as p}from"./ball-b6ce8505.js";import{A as u,T as x,r as n}from"./index-a410ed50.js";var l=[];for(let h=0;h<20;h++)l.push(`sprites/girl/Run (${h+1}).png`);const y=[];l.forEach(h=>y.push(x.from(h)));class m extends o{constructor(s){super(s),this.isCollided=s==null?void 0:s.isCollided,this.onCollide=s==null?void 0:s.onCollide,this.setup().then(()=>{this.isReady=1})}animate(s){if(!this.isReady)return;if(this.x<this.minX-4*this.r||this.x>this.maxX+4*this.r||this.y<this.minY-4*this.r||this.y>this.maxY+4*this.r)return this.kill(this);let{x:t,y:i}=this;if(!(this.dx&&this.y)){let[e,r]=this.loc;const a=this.speed*s*.001;let d=Math.atan((i-r)/(e-t)).toFixed(2)||0;if(!d||(this.dx=(e-t>0?1:-1)*Math.abs(a*Math.cos(d)||0),this.dy=(r-i>0?1:-1)*Math.abs(a*Math.sin(d)||0),!(this.dx&&this.dy)))return}this.x+=this.dx,this.y+=this.dy,this.isCollided(this)&&this.onCollide(this)}static randPos(s,t,i,e){let r,a;return parseInt(Math.random()*1e3)%2==0?(a=parseInt(Math.random()*1e3)%2==0?i:e,r=n(s,t)):(r=parseInt(Math.random()*1e3)%2==0?i:e,a=n(s,t)),{x:r,y:a}}async setup(){const s=[];for(let i=0;i<20;i++){let e=await u.load(`sprites/girl/Run (${i+1}).png`);s.push(e)}const t=new p(s);t.height=50,t.width=50,super.scale.x=this.x<this.loc[0]?1:-1,t.play(),t.x=-30,t.y=-25,t.animationSpeed=.6,this.addChild(t),this.p=t}idle(){this.p.currentFrame=0,this.p.stop(),this.speed=0,this.dy=0,this.dx=0}resume(){this.p.play(),this.speed=this.o.speed}}export{m as default};
