import{B as p,A as u}from"./box-c4e0f79f.js";import{A as x,T as y,f as l,r as n}from"./index-3a30b64c.js";var o=[];for(let h=0;h<20;h++)o.push(`sprites/girl/Run (${h+1}).png`);const f=[];o.forEach(h=>f.push(y.from(h)));class m extends p{constructor(s){s.h=40,s.w=30,super(s),this.isCollided=s==null?void 0:s.isCollided,this.onCollide=s==null?void 0:s.onCollide,this.setup().then(()=>{this.isReady=1}),this.isReady=1}animate(s){if(!this.isReady)return;if(this.o.dev&&this.log(parseInt(this.ix),parseInt(this.iy)),this.x<0||this.x>app.view.width||this.y<0||this.y>app.view.height)return this.kill(this);let{x:i,y:t}=this;if(!(this.dx&&this.y)){let{x:e,y:a}=this.loc;const r=this.speed*s*.001;let d=Math.atan((t-a)/(e-i)).toFixed(2)||0;if(!d||(this.dx=(e-i>0?1:-1)*Math.abs(r*Math.cos(d)||0),this.dy=(a-t>0?1:-1)*Math.abs(r*Math.sin(d)||0),!(this.dx&&this.dy)))return}this.x+=this.dx,this.y+=this.dy,this.isCollided(this)&&this.onCollide(this)}static randPos(s,i,t,e){let a,r;return l()?(r=l()?t:e,a=n(s,i)):(a=l()?t:e,r=n(s,i)),{x:a,y:r}}async setup(){const s=[];for(let t=0;t<20;t++){let e=await x.load(`sprites/girl/Run (${t+1}).png`);s.push(e)}const i=new u(s);i.height=50,i.width=50,super.scale.x=this.x<this.loc.x?1:-1,i.play(),i.x=-30,i.y=-30,i.animationSpeed=.6,this.addChild(i),this.p=i}idle(){this.p.currentFrame=0,this.p.stop(),this.speed=0,this.dy=0,this.dx=0}resume(){this.p.play(),this.speed=this.o.speed}}export{m as default};
